{
  "hash": "adf9887b1f0b730fc117936fb099c88c",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Tools\"\npage-layout: full\ntitle-block-banner: false\nslug: tools\n---\n\n```{=html}\n<section class=\"tools-intro\">\n  <h1>Tools</h1>\n  <p>Quick utilities hosted alongside the blog. Choose one to launch.</p>\n</section>\n```\n\n::: {#c7006c73 .cell execution_count=1}\n``` {.python .cell-code}\nfrom pathlib import Path\nimport html\n\noutputs = []\n\ndef emit(content: str) -> None:\n    outputs.append(content)\n\ndef emit_warning(message: str) -> None:\n    emit(f'<div class=\"tools-warning\">{message}</div>')\n\nregistry_path = Path(\"tools\") / \"_metadata.md\"\n\nif not registry_path.exists():\n    emit_warning(\"No tools registered yet. Add entries to <code>tools/_metadata.md</code> to populate this page.\")\nelse:\n    try:\n        import yaml\n    except ModuleNotFoundError:\n        emit_warning(\"Install the <code>pyyaml</code> package to render this page.\")\n    else:\n        raw_text = registry_path.read_text(encoding=\"utf-8\")\n        lines = raw_text.splitlines()\n\n        front_matter_lines = []\n        if lines and lines[0].strip() == \"---\":\n            for line in lines[1:]:\n                if line.strip() == \"---\":\n                    break\n                front_matter_lines.append(line)\n\n        if not front_matter_lines:\n            emit_warning(\"No tools found. Add entries under the <code>tools</code> list in <code>tools/_metadata.md</code>.\")\n        else:\n            registry = yaml.safe_load(\"\\n\".join(front_matter_lines)) or {}\n            tools = registry.get(\"tools\") or []\n\n            entries = []\n            for item in tools:\n                if not isinstance(item, dict):\n                    continue\n                slug = str(item.get(\"slug\", \"\")).strip()\n                if not slug:\n                    continue\n                title = str(item.get(\"title\", slug)).strip() or slug\n                description = str(item.get(\"description\", \"\")).strip()\n                path = Path(\"tools\") / slug / \"index.html\"\n                entries.append(\n                    {\n                        \"slug\": slug,\n                        \"title\": title,\n                        \"description\": description,\n                        \"path\": path,\n                    }\n                )\n\n            if not entries:\n                emit_warning(\"No valid tool entries found. Ensure each item includes a <code>slug</code>.\")\n            else:\n                available = [item for item in entries if item[\"path\"].exists()]\n                missing = [item for item in entries if not item[\"path\"].exists()]\n\n                if not available:\n                    emit_warning(\"Every registered tool needs an <code>index.html</code> at <code>tools/&lt;slug&gt;/index.html</code>.\")\n                else:\n                    cards = []\n                    for item in available:\n                        slug = item[\"slug\"]\n                        title = html.escape(item[\"title\"])\n                        description = html.escape(item[\"description\"])\n                        href = f\"{slug}/\"\n                        cards.append(\n                            f'<article class=\"tool-card\">'\n                            f'<h3><a href=\"{href}\">{title}</a></h3>'\n                            f'<p>{description}</p>'\n                            \"</article>\"\n                        )\n                    emit(f'<div class=\"tools-grid\">{\"\".join(cards)}</div>')\n\n                if missing:\n                    missing_list = \"\".join(\n                        f\"<li><code>{html.escape(item['slug'])}</code></li>\" for item in missing\n                    )\n                    emit(\n                        '<details class=\"tools-warning\">'\n                        \"<summary>Missing assets</summary>\"\n                        \"<p>The following entries do not have a matching <code>index.html</code>:</p>\"\n                        f\"<ul>{missing_list}</ul>\"\n                        \"</details>\"\n                    )\n\nprint(\"\\n\".join(outputs))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<div class=\"tools-warning\">No tools registered yet. Add entries to <code>tools/_metadata.md</code> to populate this page.</div>\n```\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}